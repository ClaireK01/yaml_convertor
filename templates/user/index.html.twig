{% extends 'base.html.twig' %}

{% block javascripts %}
    {{ encore_entry_script_tags("jquery") }}
    {{ encore_entry_script_tags("bootstrap_modal") }}
    <script src="https://code.jquery.com/jquery-3.7.0.min.js" integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>
{% endblock %}

{% block body %}
<div class="main div-pad container profile">
    <div class="profile-container">
    {{ form_start(form) }}
        <div class="profile-picture">
            <div class="image-container">
                <span class="btn-modal" data-bs-toggle="modal" data-bs-target="#myModal"><i class="fa-solid fa-pen"></i></span>
            </div>
            <div class="form-input-username">
                {{ form_row(form.username) }}
            </div>
        </div>
        <div class="profile-edit">
            {# TODO: créer widget formulaire #}
            <div class="form-input">
                <span>{{ form_label(form.email) }} :</span> <br>
                {{ form_widget(form.email) }}
            </div>
            <div class="form-input">
                <span>{{ form_label(form.description) }} :</span> <br>
                {{ form_widget(form.description) }}
            </div>

            <input type="submit" class="btn-submit btn btn-primary" value="Modifier">
        </div>
    {{ form_end(form) }}
    </div>

    <h3>Réalisations :</h3>
        <div class="row realisation-container">
            <a data-bs-toggle="modal" data-bs-target="#myModal">
                <div class="add-realisation col-lg-4">
                    <i class="fa-solid fa-plus"></i>
                </div>
            </a>
        </div>
</div>
    <!-- Modal -->
    <div class="modal  fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myModalLabel">File Manager</h4>
                </div>
                <div class="modal-body">
                    <iframe id="myframe" src="{{ path('file_manager', {module:1, conf:'button'}) }}" width="100%" height="500"
                            frameborder="0"></iframe>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default btn-close" data-dismiss="modal" >Close</button>
                </div>
            </div>
        </div>
    </div>
{% endblock %}


